The idea for how the backend of the device should work is when a new device joins the network it would send out a pulse to all devices within its range (>25 km) asking to be accepted as another access point. This should include Where it wants its requests to be routed to (ExitNode), Where it is geographicly and What firmware version its on. This event should trigger a slow chain reaction through all nodes causing them to recalucate their routes and to refind the best path to an (ExitNode)
The Chain reaction Should be initialized by the new node but be started by the (ExitNodes). This should cause a cascade effect causing all nodes to know how far they are from an endpoint.